<div>
  <div fxFlex="45">
    <div  style="background-color: transparent;">
      <mat-card fxFlex="100" style="background-color: powderblue ; margin: 10px ;  font-size: small ; font-family: Arial" [hidden]="showCourses">
        <div class="form-container">
          <h3 style="text-align: center"><u>Student Profile</u></h3>
          <form [formGroup] = studentForm >
            <div class="container" fxLayout="column" fxLayout.xs="column" fxLayoutAlign="start" fxLayoutGap="10px" fxLayoutGap.xs="0">
              <div  fxLayout="row" fxLayout.xs="column" fxLayoutAlign="start" fxLayoutGap="5px" fxLayoutGap.xs="0" [hidden]="showCourses">
              <mat-form-field class="col-10">
                <input matInput placeholder="Student Name" formControlName="student_name">
<!--                <div class="container" fxLayout fxLayout.xs="column" fxLayoutAlign="end" fxLayoutGap="10px" fxLayoutGap.xs="0">-->
<!--                  <mat-error *ngIf="studentForm.get('contact').errors['maxLength']">Maximum length exceeded</mat-error>-->
<!--                </div>-->
              </mat-form-field>
            </div>
              <div  fxLayout="row" fxLayout.xs="column" fxLayoutAlign="start" fxLayoutGap="5px" fxLayoutGap.xs="0" [hidden]="showCourses">
              <mat-form-field class="col-10">
                <input matInput placeholder="Contact" formControlName="contact">
<!--                <div class="container" fxLayout fxLayout.xs="column" fxLayoutAlign="end" fxLayoutGap="10px" fxLayoutGap.xs="0">-->
<!--                  <mat-error *ngIf="studentForm.get('contact').errors['maxLength']">Maximum length exceeded</mat-error>-->
<!--                </div>-->
              </mat-form-field>
            </div>
              <div  fxLayout="row" fxLayout.xs="column" fxLayoutAlign="start" fxLayoutGap="10px" fxLayoutGap.xs="0"  [hidden]="showCourses">
                <mat-form-field class="col-12">
                  <input matInput placeholder="Address" formControlName="address">
                </mat-form-field>
              </div>
              <div  fxLayout="row" fxLayout.xs="column" fxLayoutAlign="start" fxLayoutGap="10px" fxLayoutGap.xs="0" [hidden]="studentForm.value.id">
                <mat-form-field class="col-5">
                  <input matInput placeholder="Date" formControlName="date">
                </mat-form-field>
              </div>
<!--              <div  fxLayout="row" fxLayout.xs="column" fxLayoutAlign="start" fxLayoutGap="10px" fxLayoutGap.xs="0">-->
<!--                <mat-form-field class="col-5">-->
<!--                  <input placeholder="Effective Date" matInput [matDatepicker]="picker1"-->
<!--                         formControlName="effective_date"-->
<!--                         [ngModel]="currentDate"-->
<!--                         [min]="currentDate"-->
<!--                         [max]="maxDate">-->
<!--                  <mat-datepicker-toggle matSuffix [for]="picker1">-->
<!--                    <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>-->
<!--                  </mat-datepicker-toggle>-->
<!--                  <mat-datepicker #picker1></mat-datepicker>-->
<!--                </mat-form-field>-->

<!--                <mat-form-field class="col-5">-->
<!--                  <input placeholder="Closing Date" matInput [matDatepicker]="picker2"-->
<!--                         formControlName="closing_date"-->
<!--                         [min]="currentDate"-->
<!--                         [max]="maxDate">-->
<!--                  <mat-datepicker-toggle matSuffix [for]="picker2">-->
<!--                    <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>-->
<!--                  </mat-datepicker-toggle>-->
<!--                  <mat-datepicker #picker2></mat-datepicker>-->
<!--                </mat-form-field>-->
<!--              </div>-->
            </div>
            <div fxLayoutGap="15px" [hidden]="showCourses" style="text-align: center">
              <button mat-raised-button [disabled]="studentForm.invalid" (click)="saveStudent()"  [hidden]="!showSave">Save</button>
              <button mat-raised-button [disabled]="studentForm.pristine" [hidden]="showSave" (click)="updateStudentInfo()">Update</button>
              <button mat-raised-button (click)="clearForm()" [disabled]="studentForm.pristine" [hidden]="!showSave">Clear</button>
              <button mat-raised-button (click)="clearForm()" [disabled]="!studentForm.value.student_name" [hidden]="showSave">Clear</button>
            </div>
          </form>
          <div [hidden]="!showAddedCourse" style="padding: 15px">
            <hr>
            <h4 style="text-align: center"><u>Course Profile</u></h4>
            <table class="table table-striped table-bordered " *ngIf="courseListByStudent">
              <thead style="background-color: steelblue">
              <th>SL No.</th>
              <th>Course</th>
              <th>Effective Date</th>
              <th>Closing Date</th>
              <th>Edit</th>
              </thead>
              <tbody *ngFor="let item of courseListByStudent ; let indexOfElement = index">
              <td>{{indexOfElement+1}}</td>
              <td>{{item.course_name}}</td>

              <!--                <td class="col-3">-->
              <!--                  <input matInput [matDatepicker]="picker1"-->
              <!--                         [(ngModel)]="item.effective_date"-->
              <!--                         [min]="currentDate"-->
              <!--                         [max]="maxDate">-->
              <!--                  <mat-datepicker-toggle matSuffix [for]="picker1">-->
              <!--                    <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>-->
              <!--                  </mat-datepicker-toggle>-->
              <!--                  <mat-datepicker #picker1></mat-datepicker>-->
              <!--                </td>-->
              <td>
                <!--                  <mat-form-field color="accent" appearance="fill" style="width:90px !important">-->
                <!--                    <mat-label>Effective Date</mat-label>-->
                <!--                    <input matInput [matDatepicker]="picker1" [(ngModel)] = item.effective_date>-->
                <!--                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>-->
                <!--                    <mat-datepicker #picker1></mat-datepicker>-->
                <!--                  </mat-form-field>-->

                <div class="input-group rounded"  style = "width: 100%">
                  <input type="text"  [matDatepicker]="picker1" class="form-control rounded" placeholder="Effective Date" aria-label="Search"
                         [(ngModel)]="item.effective_date" style="font-size: small"/>
                  <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                  <mat-datepicker #picker1></mat-datepicker>
                </div>

              </td>
              <td>
                <!--                  <mat-form-field color="accent" appearance="fill" style="width:90px !important">-->
                <!--                    <mat-label>Closing Date</mat-label>-->
                <!--                    <input matInput [matDatepicker]="picker2" [(ngModel)] = item.closing_date>-->
                <!--                    <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>-->
                <!--                    <mat-datepicker #picker2></mat-datepicker>-->
                <!--                  </mat-form-field>-->
                <div class="input-group rounded"  style = "width: 100%">
                  <input type="text"  [matDatepicker]="picker2" class="form-control rounded" placeholder="Closing Date" aria-label="Search"
                         [(ngModel)]="item.closing_date"  style="font-size: small"/>
                  <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                  <mat-datepicker #picker2></mat-datepicker>
                </div>
              </td>
              <!--                <td class="col-3">-->
              <!--                  <input placeholder="Closing Date" matInput [matDatepicker]="picker2"-->
              <!--                         [(ngModel)]="item.closing_date"-->
              <!--                         [min]="currentDate"-->
              <!--                         [max]="maxDate">-->
              <!--                  <mat-datepicker-toggle matSuffix [for]="picker2">-->
              <!--                    <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>-->
              <!--                  </mat-datepicker-toggle>-->
              <!--                  <mat-datepicker #picker2></mat-datepicker>-->
              <!--                </td>-->
              <td>
                <button  class="mat-button" (click)="editCourse(item)"> <mat-icon>edit</mat-icon></button>
              </td>
              </tbody>
            </table>
          </div>
        </div>
      </mat-card>
      <mat-card fxFlex="100" style="margin: 10px ;background-color: lightblue" [hidden]="!showCourses">
      <div>
        <div style="text-align: center; font-size: larger ; color: midnightblue">
          <h3>{{studentName}}</h3>
        </div>
        <mat-card style="background-color: snow; margin-top: 20px ;background-color: lightblue">
          <div class="input-group rounded"  style="width: 70% ; margin-bottom: 25px ">
            <input type="search" class="form-control rounded" style="font-size: small" placeholder="Search Course" aria-label="Search"
                 [(ngModel)]="searchCourse"  aria-describedby="search-addon" />
          </div>
          <table class="table" style="width: 100%">
            <thead class="thead-dark">
            <th>SL No.</th>
            <th>Course</th>
            <th>Type</th>
            <th colspan="3">Action</th>
            <!--                <th>Remove</th>-->
            <!--                <th>Save</th>-->
            </thead>
            <tbody>
            <tr class="table-secondary" *ngFor="let indexOfElement =index ; let item of courseList | filter : searchCourse |  paginate: { itemsPerPage: coursePageSize, currentPage: p1 }">
              <td>{{indexOfElement+1}}</td>
              <td>{{item.course_name}}</td>
              <td>{{item.type}}</td>
              <td [hidden]="item.isCourseSaved">
                <button class="btn" (click)="addCourse(item)" [hidden]="item.isCourseSet"><mat-icon><mat-icon>add_circle</mat-icon></mat-icon></button>
                <button class="btn" (click)="removeCourse(item)" [hidden]="!item.isCourseSet"><mat-icon>remove_circle</mat-icon></button>
                <input  placeholder="set fees"  style="width: 60px" [hidden]="!item.isCourseSet" [(ngModel)]="item.course_fees">
              </td>
              <td  style="font-weight: bold; font-family: 'Arial Rounded MT Bold'" [hidden]="!item.isCourseSaved">Added</td>
              <td>
                <button type="button" class="btn btn-outline-info" [hidden]="!item.isCourseSet" [disabled]="item.isCourseSaved" (click)="submitCourse(item)">Save</button>
              </td>

            </tr>
            </tbody>

          </table>
          <div fxLayout.xs="column" fxLayout="column" fxFlexFill>
            <!--    https://www.npmjs.com/package/ngx-pagination-->
            <!--    npm i ngx-pagination-->
            <pagination-controls (pageChange)="p1 = $event"></pagination-controls>
            <pagination-controls  id="some_id"
                                  (pageChange)="p1=($event)"
                                  maxSize="5"
                                  directionLinks="true"
                                  autoHide="true"
                                  responsive="true"
                                  previousLabel="Previous"
                                  nextLabel="Next"
                                  screenReaderPaginationLabel="Pagination"
                                  screenReaderPageLabel="page"
                                  screenReaderCurrentLabel="You're on page">
            </pagination-controls>
          </div>
          <div  fxLayout="row" fxLayoutGap="5px"  style="align-content: center">
            <button class="btn btn-info" (click)="backToPrevious()">Back</button>
          </div>
        </mat-card>

      </div>

    </mat-card>
    </div>
  </div>
  <div fxFlex="55">
    <div style="background-color: transparent;">
      <mat-card fxFlex="100" style="background-color: gray ;margin: 10px">
        <div>
          <div class="container" fxLayout fxLayout.xs="column" fxLayoutAlign="start" fxLayoutGap="30px" fxLayoutGap.xs="0" style="; margin: 10px">
<!--            <mat-form-field class="example-full-width">-->
<!--              <input matInput placeholder="Search..." [(ngModel)]="searchString" name="search" type="text" autofocus>-->
<!--            </mat-form-field>-->
            <div class="input-group rounded"  style = "width: 40%">
              <input type="search" class="form-control rounded" placeholder="Search Student" aria-label="Search"
                     [(ngModel)]="searchString"  aria-describedby="search-addon"  style="font-size: small"/>
            </div>
            <div class="input-group rounded"  style = "width: 40%">
              <input type="search" class="form-control rounded" placeholder="Items per page" aria-label="Search"
                     [(ngModel)]="pageSize"  aria-describedby="search-addon"  style="font-size: small"/>
            </div>

<!--            <mat-form-field class="example-full-width">-->
<!--              <input matInput placeholder="Items per page" [(ngModel)]="pageSize" name="PageSize" type="text">-->
<!--            </mat-form-field>-->
          </div>
          <table class="table table-hover">
            <thead style="background-color: darkseagreen ; font-size: medium">
              <th>SL No.</th>
              <th>Student Name</th>
              <th>Contact</th>
              <th>Address</th>
              <th>Edit</th>
              <th>Add Course</th>
              <th>Delete</th>

            </thead>
            <tbody>
              <tr *ngFor="let indexOfElemt = index; let item of studentList | filter : searchString | paginate: { itemsPerPage: pageSize, currentPage: p }" style="font-size: small;color: darkblue" >
                <td>{{indexOfElemt+1}}</td>
                <td>{{item.student_name}}</td>
                <td>{{item.contact}}</td>
                <td>{{item.address}}</td>
                <td><button class="mat-button" (click)="populateFormByStudent(item)" style="color: black"><mat-icon>edit</mat-icon></button></td>
                <td>
                  <button class="mat-button" (click)="addCourseToStudent(item)" style="color: black"><mat-icon>add_box</mat-icon></button>
                </td>
                <td><button class="mat-button" (click)="deleteStudent(item)" style="color: red"><mat-icon>delete</mat-icon></button></td>
              </tr>
            </tbody>
          </table>
          <div fxLayout.xs="column" fxLayout="column" fxFlexFill>
            <!--    https://www.npmjs.com/package/ngx-pagination-->
            <!--    npm i ngx-pagination-->
            <pagination-controls (pageChange)="p = $event"></pagination-controls>
            <pagination-controls  id=""
                                  (pageChange)="p=($event)"
                                  maxSize="5"
                                  directionLinks="true"
                                  autoHide="true"
                                  responsive="true"
                                  previousLabel="Previous"
                                  nextLabel="Next"
                                  screenReaderPaginationLabel="Pagination"
                                  screenReaderPageLabel="page"
                                  screenReaderCurrentLabel="You're on page">
            </pagination-controls>
          </div>
        </div>
      </mat-card>
    </div>
  </div>

</div>

